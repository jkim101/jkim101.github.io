---
title: "GraphRAG vs RAG: 그래프 구조가 도움되는 경우는?"
date: 2026-02-18 14:52:37 -0500
categories:
  - blog
tags:
  - GraphRAG
  - RAG
  - 검색 증강 생성
  - GraphRAG-Bench
  - 멀티홉 추론
  - AI 아키텍처
  - 그래프 데이터베이스
layout: single
author_profile: true
read_time: true
comments: false
share: false
related: true
---

# GraphRAG vs. RAG: 그래프 구조가 실제로 도움이 되는 경우는 언제인가? GraphRAG-Bench로부터의 통찰

최근 몇 년간 RAG(Retrieval-Augmented Generation) 시스템은 대규모 언어 모델의 환각 문제를 해결하고 최신 정보를 제공하는 핵심 아키텍처로 자리잡았습니다. 그 다음 단계로 제시된 것이 바로 GraphRAG입니다. 개념 간 계층 관계를 모델링하여 RAG의 컨텍스트 단편화 문제를 해결한다는 약속이었죠. 하지만 최근 연구는 놀라운 사실을 보여줍니다. GraphRAG가 바닐라 RAG보다 자주 낮은 성능을 보인다는 것입니다. Natural Questions 데이터셋에서 정확도가 13.4% 낮게 나온 사례도 있습니다.

역설적입니다. 더 많은 구조를 추가했는데 오히려 성능이 나빠진다니요. 이 현상은 우리 분야가 체계적으로 답하지 못한 핵심 질문을 제기합니다. 그래프 구조가 RAG 시스템에 실제로 측정 가능한 이점을 제공하는 시나리오는 정확히 무엇일까요? GraphRAG-Bench는 이 질문에 경험적 엄밀함으로 답하기 위해 설계된 최초의 종합 벤치마크입니다. 네 가지 작업 복잡도 수준을 통해 GraphRAG가 언제 진정한 가치를 제공하는지, 그리고 언제 불필요한 오버헤드에 불과한지를 명확히 구분합니다.

## 기존 벤치마크가 GraphRAG를 제대로 평가하지 못한 이유

HotpotQA, MultiHopRAG 같은 기존 벤치마크가 GraphRAG 평가에 실패한 이유를 이해하는 것이 중요합니다. 이들은 검색 난이도, 즉 흩어진 사실을 찾아내는 능력에 과도하게 집중한 반면 추론 복잡도, 즉 상호 연결된 개념을 종합하는 능력은 간과했습니다. '멀티홉' 질문이라고 부르지만 실제로는 순차적인 사실 검색에 불과한 경우가 많았죠.

코퍼스 품질 문제도 심각합니다. 위키피디아 같은 일반적인 소스는 구조화된 도메인 특화 지식이 부족합니다. UltraDomain처럼 평균 170.6개의 엔티티를 가진 데이터셋조차 평균 차수가 0.86에 불과해 희소하고 단절된 그래프 구조를 보입니다. 이런 환경에서는 그래프의 진정한 잠재력을 테스트할 수 없습니다.

평가 메트릭도 문제입니다. 대부분의 벤치마크는 GraphRAG를 블랙박스로 취급하며 최종 출력의 정확도나 유창성만 측정합니다. 그래프 구성 품질, 검색 효과성, 추론 프로세스의 무결성은 평가하지 않죠. 엔진 내부를 들여다보지 않고 자동차의 속도만 재는 것과 같습니다.

## GraphRAG-Bench: 네 가지 수준의 복잡도 프레임워크

GraphRAG-Bench는 이러한 한계를 극복하기 위해 난이도가 증가하는 네 가지 작업 레벨을 정의합니다. 레벨 1은 사실 검색으로, 고립된 지식 포인트를 찾아내는 작업입니다. 레벨 2는 복잡한 추론으로, 논리적 연결을 통해 여러 지식 포인트를 연결합니다. 레벨 3은 맥락적 요약으로, 단편화된 정보를 종합합니다. 레벨 4는 창의적 생성으로, 검색된 콘텐츠를 넘어선 추론을 요구합니다.

이 프레임워크의 강점은 이중 코퍼스 설계에 있습니다. 하나는 NCCN 의료 가이드라인으로, 명시적 계층 구조와 표준화된 프로토콜을 가진 긴밀하게 구조화된 코퍼스입니다. 다른 하나는 20세기 이전 소설로, 암묵적이고 비선형적인 서사를 가진 느슨하게 조직된 코퍼스입니다. 이 조합은 검색 견고성과 추론 깊이를 동시에 테스트합니다.

평가 파이프라인도 정교합니다. 단계별 메트릭을 통해 그래프 품질(노드 및 엣지 수, 평균 차수, 클러스터링 계수), 검색 메트릭(증거 재현율, 컨텍스트 관련성), 생성 메트릭(정확도, ROUGE-L, 충실도, 증거 커버리지)을 측정합니다. GraphRAG의 전체 파이프라인을 투명하게 평가하는 최초의 시도입니다.

## 핵심 발견: 작업 복잡도가 의사결정 경계다

GraphRAG-Bench의 가장 중요한 발견은 작업 복잡도가 RAG와 GraphRAG 사이의 명확한 의사결정 경계라는 점입니다. 단순한 사실 검색인 레벨 1에서는 바닐라 RAG가 GraphRAG와 동등하거나 더 나은 성능을 보입니다. Novel 데이터셋에서 RAG는 83.2%의 증거 재현율을 달성합니다. 그래프 기반 처리는 오히려 중복되거나 노이즈가 많은 정보를 도입하여 답변 품질을 저하시킵니다.

복잡한 추론과 요약인 레벨 2와 3에서는 GraphRAG가 명확한 우위를 보입니다. HippoRAG는 87.9%에서 90.9%의 증거 재현율을 달성하고, HippoRAG2는 85.8%에서 87.8%의 컨텍스트 관련성으로 선두를 달립니다. 그래프 순회가 먼 텍스트 세그먼트에 흩어진 정보를 효과적으로 연결하기 때문입니다.

창의적 생성인 레벨 4에서는 미묘한 트레이드오프가 나타납니다. GraphRAG는 더 높은 사실적 충실도를 보장합니다. RAPTOR가 70.9%를 기록하죠. 하지만 RAG는 더 넓은 증거 커버리지를 달성하여 40.0%를 기록합니다. 이는 GraphRAG의 정밀도 대 폭 제한을 반영합니다.

중요한 통찰은 이것입니다. 쿼리가 주로 단일 패시지 사실 검색을 포함한다면 재순위화가 있는 바닐라 RAG로 충분하며 더 비용 효율적입니다. 하지만 쿼리가 멀티홉 추론, 맥락적 종합, 또는 사실에 기반한 창의적 생성을 요구한다면 GraphRAG가 측정 가능한 이점을 제공합니다.

## 그래프 품질과 효율성: 숨겨진 트레이드오프

그래프 밀도는 성능과 강하게 상관관계가 있습니다. HippoRAG2는 훨씬 더 조밀한 그래프를 생성합니다. Novel 데이터셋에서 523개 노드와 2,310개 엣지, Medical 데이터셋에서 598개 노드와 3,979개 엣지를 가지며 평균 차수는 8.75에서 13.31입니다. 반면 LightRAG는 2.10에서 2.58에 불과하죠. 교훈은 명확합니다. 단순히 큰 그래프가 아니라 품질 좋은 그래프를 구축하라는 것입니다.

토큰 오버헤드는 구현에 따라 극적으로 다릅니다. Global-GraphRAG는 프롬프트를 약 40,000 토큰까지 부풀립니다. LightRAG는 약 10,000 토큰에 도달하죠. 반면 HippoRAG2는 약 1,000 토큰을 유지합니다. 40배의 차이이며, 비용과 지연 시간에 직접적인 영향을 미칩니다.

작업 복잡도가 증가하면 프롬프트 길이가 비선형적으로 증가합니다. Global-GraphRAG의 경우 7,800 토큰에서 40,000 토큰으로 증가하죠. 더 많은 토큰은 중복성을 도입하여 실제로 컨텍스트 관련성을 저하시킵니다.